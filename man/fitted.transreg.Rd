% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/functions.R
\name{fitted.transreg}
\alias{fitted.transreg}
\title{Fitted values}
\usage{
\method{fitted}{transreg}(object, stack = NULL, ...)
}
\arguments{
\item{object}{object of class \code{transreg}}

\item{stack}{character "lp" (linear predictor stacking) or "mf" (meta-feature stacking)}

\item{...}{(not applicable)}
}
\value{
This function returns fitted values.
The output is a numerical vector
with one entry for sample.
}
\description{
Extracts fitted values
}
\examples{
#--- simulation ---
n <- 100; p <- 500
X <- matrix(rnorm(n=n*p),nrow=n,ncol=p)
beta <- rnorm(p)*rbinom(n=p,size=1,prob=0.2)
prior1 <- beta + rnorm(p)
prior2 <- beta + rnorm(p)
y_lin <- X \%*\% beta
y_log <- 1*(y_lin > 0)

#--- single vs multiple priors ---
one <- transreg(y=y_lin,X=X,prior=prior1)
two <- transreg(y=y_lin,X=X,prior=cbind(prior1,prior2))
weights(one)
weights(two)

#--- linear vs logistic regression ---
lin <- transreg(y=y_lin,X=X,prior=prior1,family="gaussian")
log <- transreg(y=y_log,X=X,prior=prior1,family="binomial")
hist(predict(lin,newx=X)) # predicted values
hist(predict(log,newx=X)) # predicted probabilities

#--- ridge vs lasso penalisation ---
ridge <- transreg(y=y_lin,X=X,prior=prior1,alpha=0)
lasso <- transreg(y=y_lin,X=X,prior=prior1,alpha=1)
# initial coefficients (without prior)
plot(x=coef(ridge$base)[-1]) # dense
plot(x=coef(lasso$base)[-1]) # sparse
# final coefficients (with prior)
plot(x=coef(ridge)$beta) # dense
plot(x=coef(lasso)$beta) # not sparse

#--- exponential vs isotonic calibration ---
exp <- transreg(y=y_lin,X=X,prior=prior1,scale="exp")
iso <- transreg(y=y_lin,X=X,prior=prior1,scale="iso")
plot(x=prior1,y=exp$prior.calib)
plot(x=prior1,y=iso$prior.calib)

#--- linear predictor vs meta-feature stacking ---
prior <- c(prior1[1:250],rep(0,250))
lp <- transreg(y=y_lin,X=X,prior=prior,stack="lp")
mf <- transreg(y=y_lin,X=X,prior=prior,stack="mf")
plot(x=coef(lp$base)[-1],y=coef(lp)$beta)
plot(x=coef(mf$base)[-1],y=coef(mf)$beta)

}
\references{
Armin Rauschenberger
\href{https://orcid.org/0000-0001-6498-4801}{\figure{orcid_16x16.png}{(iD)}},
Zied Landoulsi
\href{https://orcid.org/0000-0002-2327-3904}{\figure{orcid_16x16.png}{(iD)}},
Mark A van de Wiel
\href{https://orcid.org/0000-0003-4780-8472}{\figure{orcid_16x16.png}{(iD)}},
and Enrico Glaab
\href{https://orcid.org/0000-0003-3977-7469}{\figure{orcid_16x16.png}{(iD)}}
(2022).
"Penalised regression with multiple sets of prior effects".
\emph{Manuscript in preparation.}
\email{armin.rauschenberger@uni.lu}
}
\seealso{
Methods for objects of class \code{transreg}
include \code{\link[=coef.transreg]{coef}}
and \code{\link[=predict.transreg]{predict}}.
}
